<!DOCTYPE html>
<html lang="sv">
  <head>
   <link rel="apple-touch-icon" sizes="180x180" href="../../Favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../Favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../Favicon/favicon-16x16.png">
<link rel="manifest" href="../../Favicon/site.webmanifest">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Trivia Rush</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body class="min-h-screen bg-[#0b1e39] text-white flex flex-col" data-page-title="Trivia Rush">
    <div id="header-container"></div>
    
    <!-- Ladda How-To modaler från gemensam fil -->
    <div id="howto-container"></div>
    <script>
      (async function() {
        const response = await fetch('/apps/Shared-how-to/howto-modals.html');
        const html = await response.text();
        document.getElementById('howto-container').innerHTML = html;
      })();
    </script>
  


    <script>
      function toggleMenu() {
        document.getElementById("dropdownMenu").classList.toggle("hidden");
      }
    </script>
</header>


<style>
  :root {
    --nobel-primary: #C5A572;
  }

  .header-brand {
    background-color: var(--nobel-primary);
  }
</style>


    

    <!-- MAIN -->
    <main class="flex-1 flex items-center justify-center px-6 pb-12">
      <div class="w-full max-w-2xl mx-auto">
        <!-- Panel -->
          
          <!-- STARTVY -->
          <section id="view-start" class="space-y-8">
            <div class="rounded-3xl bg-[#142845]/95 shadow-2xl ring-1 ring-white/10 p-8 md:p-10 text-center">
              <div class="text-lg">
                Välkommen till 
                <strong class="text-[#C5A572]">Trivia Rush!</strong>
              </div>
              <br>
            <p class="text-white/85 leading-relaxed mb-8 text-lg">
              Svara på trivia fråger om nobelpristagarna!
              <span class="font-semibold text-white">Lycka Till!</span>
            </p>  

            <!-- Kategorier och Start-knapp -->
            <form id="category-form">
              <fieldset class="space-y-5">
                </fieldset>

                
              <!-- Submit-knapp -->
              <div class="text-center">
                <button
                  type="submit"
                  id="btn-start"
                  class="inline-flex items-center justify-center px-10 py-3 rounded-xl bg-[#C5A572] hover:bg-[#b08f57] active:bg-[#9c7f4c] text-[#002952] font-semibold shadow-lg shadow-black/30 transition"
                >
                  Starta Quiz
                </button>
              
              </div>
            </form>
              </div>

          </section>

          
          <!-- QUIZVY -->
          <section id="view-quiz" class="hidden text-center">
            <div
              id="quizvy"
              class="flex justify-center left-24 items-center justify-between mb-4 text-white/80 text-sm"
            >
              <div class="flex items-center">
                <div id="question-pill">0/10</div>
                <div id="score-pill" class="absolute left-10 font-semibold">Poäng: 0</div>
                <div id="streak-box" class="relative left-24">
                  <div id="streak-pill" class="absolute inset-0 flex items-center justify-center text-lg font-bold text-white z-10 pointer-events-none"></div>
                </div>
              </div>
            </div>

            <!-- Timer bar -->
            <div
              class="w-full h-2 bg-white/10 rounded-full mb-2 overflow-hidden"
            >
              <div
                id="timer-bar"
                class="h-2 bg-[#C5A572] rounded-full transition-all duration-1000"
                style="width: 100%"
              >
            </div>
            </div>

            <!-- Progress bar -->
            
            <div
              id="question-category"
              class="inline-block px-3 py-1 rounded-full bg-white/10 text-white/90 mb-2"
            >
              Kategori
            </div>

            <h2
              id="question-text"
              class="text-2xl font-semibold mb-6 text-center"
            ></h2>

            <div id="options" class="grid gap-3"></div>

            <button
              id="btn-next"
              disabled
              class= "w-30 mt-10 px-8 py-3 rounded-full bg-[#C5A572] text-[#002952] font-semibold border-2 border-[#d4b88c] shadow-md shadow-black/20 opacity-60 cursor-not-allowed transition-all duration-300"
            >
              Nästa
            </button>
            </div>
          </section>

          <!-- RESULTAT -->
          <section id="view-result"
         class="hidden fixed flex flex-col items-center justify-center text-center space-y-4 px-6 mt-10">
    
    <!--Confetti animation-->
    <div
      id="confetti-wrapper"
      class="-z-10 absolute inset-0 pointer-events-none overflow-hidden"
    >
      <div class="confetti"></div>
      <div class="confetti"></div>
      <div class="confetti"></div>
      <div class="confetti"></div>
      <div class="confetti"></div>
      <div class="confetti"></div>
      <div class="confetti"></div>
      <div class="confetti"></div>
      <div class="confetti"></div>
      <div class="confetti"></div>
    </div>

    <h2 class="text-3xl font-bold text-[#C5A572]">Resultat</h2>

    <div class="space-y-2">
      <p id="final-score" class="text-white/90 text-lg font-semibold"></p>
      <p id="final-time-score" class="text-[#C5A572] text-base"></p>
      <p id="final-bonus-score" class="text-green-400 text-base"></p>
      <p id="final-total-score" class="text-white text-xl font-bold border-t border-white/20 pt-2 mt-2"></p>
    </div>

    <p id="final-feedback" class="text-white/75 text-lg mt-4"></p>

 

      <button 
         class="w-full mt-2 px-6 py-3 rounded-lg bg-[#C5A572] hover:bg-[#b08f57] text-[#002952] font-semibold shadow-lg shadow-black/30 transition"
        onclick="window.location.href='../leaderboard/leaderboard.html'">
        Till topplistan
      </button>
  <button
      onclick="window.location.href='/apps/timeline/index.html'"
        id="again"
        class="inline-flex items-center justify-center px-10 py-3 rounded-xl bg-[#C5A572] hover:bg-[#b08f57] active:bg-[#9c7f4c] text-[#002952] font-semibold shadow-lg shadow-black/30 transition w-full"
      >
        Nästa spel
      </button>


</section>
        </div>
      </div>
    </main>
 
   
  




      <script src="/apps/Shared-how-to/howto.js"></script>
    <script src="js/data.js"></script>
    <script src="js/game.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
    <script type="module" src="../../shared/components/header.js"></script>

    <script type="module">
      import { submitScore } from "../leaderboard/leaderboardManager.js";
  
      // Gör submitScore tillgänglig globalt
      window.submitScore = submitScore;
    </script>



  </body>
</html>
